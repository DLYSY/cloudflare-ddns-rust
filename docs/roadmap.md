# 路线图

## 已知问题

- 在PVE 9.1 无法通过 OCI 使用，但这疑似是 PVE 问题（busybox 目前在 PVE OCI 下网络也不正常），鉴于目前 PVE 的 OCI 功能尚不成熟。暂不计划进行针对性修复 ~~（老夫就是个调包侠，包本身有兼容性问题我也没办法）~~，目前解决办法：
    1. 将二进制文件打包进一般发行版镜像中（quay 上的镜像为 scratch）
    2. 直接在 PVE 中运行
    3. 使用传统的 LXC 容器或者 VM 运行

## TODO

- 优化配置文件，支持调整更新间隔等参数。
- OpenWrt 支持（低优先级，现阶段建议使用[安装为 cron](#要将其安装为cron任务请运行)）
- OpenRC 支持（极低优先级，甚至可能会降级为 [NOT TODO](#not-todo)），Alpine 和 Gentoo 实在没啥人用作服务器，如果你确实需要同样建议[安装为 cron](#要将其安装为cron任务请运行)。

## NOT TODO

- **支持 MX 等其他记录类型**：使用太少，很多记录类型比如 SSHFP、NAPTR 都不太明白具体用途。可能会用得上的就是 MX 记录，MX 记录本身类似于 CNAME 记录需要指向一个域名，所以直接在对应的域名上使用 DDNS 即可。

- **支持Mac**：项目二进制文件可以进行单独的使用，理论上可以配合 cron 使用，但我无任何 Mac 设备，故不计划对 Mac 进行测试。

- **支持各种 BSD、SysV、Termux 等其他系统**：这些系统从二进制文件到 init 都十分混乱，理论上来说只要 `Rust` 支持这些系统就可以进行编译，但我不会进行测试。如果您确实需要使用，建议尝试[安装为 cron](#要将其安装为cron任务请运行)。
  
- **支持非 x86_64 架构设备（包括x86_32也不会支持）**：我没有其他架构服务器设备，无法进行测试，但如果你具有相关条件进行测试并发现问题，欢迎提交 PR。
  
- **支持 Windows8.1 及更低版本 Windows**：系统过于老旧，Rust 工具链本身支持有限。

- **监控 `config.json` 以便 `--loops` 模式下无需重启自动读取新配置**：这种非原子操作实现复杂的同时还非常危险；且更新设置后重启是非常常见的设计，综合各种原因不会支持这种用法。这里举个两个栗子：
  1. 你配置写了一半然后按了保存，结果这个写了一半配置不是合法 json，于是整个程序因为无法正确读取而直接崩溃了。
  2. 这个写了一半的配置是合法 json 但字段缺失或类型对不上，这会导致程序内部出现 `null` 而产生各种不可预测的行为。